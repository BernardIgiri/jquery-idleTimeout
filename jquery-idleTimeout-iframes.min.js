!function(e){e.fn.idleTimeout=function(i){var t,n,o,a,l,s,r,c,d,u,g,m,v,f,p,y,h,T,w,L,b,A,I,D={idleTimeLimit:1200,redirectUrl:"/logout",customCallback:!1,activityEvents:"click keypress scroll wheel mousewheel mousemove",enableDialog:!0,dialogDisplayLimit:180,dialogTitle:"Session Expiration Warning",dialogText:"Because you have been inactive, your session is about to expire.",dialogTimeRemaining:"Time remaining",dialogStayLoggedInButton:"Stay Logged In",dialogLogOutNowButton:"Log Out Now",errorAlertMessage:'Please disable "Private Mode", or upgrade to a modern browser. Or perhaps a dependent file missing. Please see: https://github.com/marcuswestin/store.js',sessionKeepAliveTimer:600,sessionKeepAliveUrl:window.location.href},O=e.extend(D,i),k=2,K=document.title;return this.iframeRecheck=function(){b()},t=function(){o=function(){e.get(O.sessionKeepAliveUrl)},a=setInterval(o,1e3*O.sessionKeepAliveTimer)},n=function(){clearInterval(a)},l=function(){e("body").on(O.activityEvents,function(){h()!==!0&&u()})},c=function(){var i=e.now(),t=store.get("idleTimerLastActivity")+1e3*O.idleTimeLimit;i>t?O.enableDialog?O.enableDialog&&h()!==!0&&(m(),p()):L():store.get("idleTimerLoggedOut")===!0?L():h()===!0&&(T(),y())},u=function(){g(),d=e.now(),store.set("idleTimerLastActivity",d),s=setInterval(c,1e3*k)},g=function(){clearInterval(s)},m=function(){var i="<div id='idletimer_warning_dialog'><p>"+O.dialogText+"</p><p style='display:inline'>"+O.dialogTimeRemaining+": <div style='display:inline' id='countdownDisplay'></div></p></div>";e(i).dialog({buttons:[{text:O.dialogStayLoggedInButton,click:function(){T(),y(),u()}},{text:O.dialogLogOutNowButton,click:function(){L()}}],closeOnEscape:!1,modal:!0,title:O.dialogTitle,open:function(){e(this).closest(".ui-dialog").find(".ui-dialog-titlebar-close").hide()}}),w(),document.title=O.dialogTitle,O.sessionKeepAliveTimer&&n()},f=function(){var i=e.now(),t=store.get("idleTimerLastActivity")+1e3*O.idleTimeLimit+1e3*O.dialogDisplayLimit;(i>t||store.get("idleTimerLoggedOut")===!0)&&L()},p=function(){v=setInterval(f,1e3*k)},y=function(){clearInterval(v),clearInterval(r)},h=function(){var i=e("#idletimer_warning_dialog").is(":visible");return i===!0?!0:!1},T=function(){e("#idletimer_warning_dialog").dialog("destroy").remove(),document.title=K,O.sessionKeepAliveTimer&&t()},w=function(){var i,t,n=O.dialogDisplayLimit;r=setInterval(function(){i=Math.floor(n/60),10>i&&(i="0"+i),t=n-60*i,10>t&&(t="0"+t),e("#countdownDisplay").html(i+":"+t),n-=1},1e3)},L=function(){store.set("idleTimerLoggedOut",!0),O.sessionKeepAliveTimer&&n(),O.customCallback&&O.customCallback(),O.redirectUrl&&(window.location.href=O.redirectUrl)},e("body").on("dialogopen",function(){O.enableDialog&&h()!==!0&&b()}),b=function(){var e,i;e=function(){"complete"===document.readyState&&(clearInterval(i),A())},i=setInterval(e,1e3)},A=function(i){i||(i=e(document));var t=0;i.find("iframe,frame").each(function(){if(e(this).hasClass("jit-inspected")===!1)try{A(e(this).contents()),e(this).on("load",I(e(this)));var i=e(this)[t];i.attachEvent&&i.attachEvent("onload",I(e(this))),t++}catch(n){e(this).addClass("cross-site jit-inspected")}})},I=function(i){var t=i.contents();t.on(O.activityEvents,function(i){e("body").trigger(i)}),i.addClass("jit-inspected")},this.each(function(){store.enabled?(d=e.now(),store.set("idleTimerLastActivity",d),store.set("idleTimerLoggedOut",!1)):alert(O.errorAlertMessage),l(),O.sessionKeepAliveTimer&&t(),u(),b()})}}(jQuery);