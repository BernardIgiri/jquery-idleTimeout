<!DOCTYPE html>
<html>

  <head>
    <meta http-equiv="X-UA-Compatible" content="text/html; charset=UTF-8" />
    <title>Jquery-idleTimeout - Demo Page - by JillElaine</title>

    <link type="text/css" rel="stylesheet" href="stylesheets/main.css"/>
    <link type="text/css" rel="stylesheet" href="stylesheets/jquery-ui.css"/>
    <link type="text/css" rel="stylesheet" href="stylesheets/jquery-ui.structure.css"/>
    <link type="text/css" rel="stylesheet" href="stylesheets/jquery-ui.theme.css"/>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js" type="text/javascript"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js" type="text/javascript"></script>
    <script src="javascripts/store.min.js" type="text/javascript"></script>
    <script src="javascripts/jquery-idleTimeout.js" type="text/javascript"></script>

    <script type="text/javascript" charset="utf-8">
      /*global $: false, jQuery: false, document: false, store: false, window: false, alert: false*/
      /*jslint indent: 2, sloppy: true*/

      $(document).ready(function () {

	$(document).idleTimeout({
	  idleTimeLimit: 15,            // 15 seconds 'No activity' time limit in seconds.
	  redirectUrl: 'https://github.com/JillElaine/jquery-idleTimeout',       // redirect to this url
	  activityEvents: 'click keypress scroll wheel mousewheel',    // separate each event with a space
	  dialogDisplayLimit: 30,       // Time to display the warning dialog before logout (and optional callback) in seconds
	  sessionKeepAliveTimer: false  // Set to false to disable pings.
	});

      });
      
      var voluntaryLogoutOne = function () {
	window.location.href = "https://github.com/JillElaine/jquery-idleTimeout";
      };

      var voluntaryLogoutAll = function () {
	if (store.enabled) {
	  store.set('idleTimerLoggedOut', true);
	  voluntaryLogoutOne();
	} else {
	  alert('Please disable "Private Mode", or upgrade to a modern browser. Or perhaps a dependent file missing. Please see: https://github.com/marcuswestin/store.js');
	}
      };
    </script>
  </head>

  <body>
    <div>
      <div class="main_banner">
	<h1>Jquery-idleTimeout - Demo Page - by JillElaine</h1>
      </div>

      <div class="main_content">

	<h2>GitHub Project Page - <a href="https://github.com/JillElaine/jquery-idleTimeout">https://github.com/JillElaine/jquery-idleTimeout</a></h2>

	<p>To see the 'idle timeout' functionality, do not press any keys, click your mouse or scroll your mousewheel for 15 seconds.</p>

	<h3>Functions across multiple windows and tabs within the same domain</h3>

	<h4><a href="http://jillelaine.github.io/jquery-idleTimeout/index.html" target="_blank">Try it! Click here to open another browser window/tab of this page.</a></h4>

	<ul>
	  <li>If a window/tab is logged out, all other windows/tabs will log out too.</li>
	  <li>If the warning dialog box is not disabled, if warning dialog appears on one window/tab, warning dialog appears on all other 'same domain' windows/tabs too.</li>
	  <li>If 'Stay Logged In' button on warning dialog is clicked, warning dialogs on all 'same domain' windows/tabs will be dismissed too.</li>
	  <li>If 'Log Out Now' button on warning dialog is clicked, all 'same domain' windows/tabs will log out too.</li>
	</ul>

	<h3>Requirements</h3>
	<ul>
	  <li>Marcus Westin's store.js version 1.3.4 or newer is required. <a href="https://github.com/marcuswestin/store.js" target="_blank">https://github.com/marcuswestin/store.js</a></li>
	  <li>JQuery version 1.7 or newer and JQuery UI 1.9 or newer are required. You can load Google's hosted JQuery API. Put these statements in your page's 'head' section.</li>
	    <ul>
	      <li>&lt;script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js" type="text/javascript"&gt;&lt;/script&gt;</li>
	      <li>&lt;script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js" type="text/javascript"&gt;&lt;/script&gt;</li>
	    </ul>
	</ul>

	<div id="activity" class="borderize activity_detected"><p>I shake when activity is detected.</p></div>

	<h3>Functionality & Features</h3>
	<ul>
	  <li>Works across multiple windows and tabs within the same domain <strong>thanks to Marcus Westin's store.js.</strong></li>
	    <ul>
	      <li>Uses localStorage, globalStorage and userData behavior to 'communicate' across multiple browser windows/tabs without cookies or flash!</li>
	    </ul>
	  <li>If the warning dialog is enabled:</li>
	    <ul>
	      <li>If no activity events are detected on any 'same domain' windows/tabs within the 'idleTimeLimit', warning dialog will appear will appear on all 'same domain' windows/tabs.</li>
	      <li>If the warning dialog is not disabled, the browser title changes on all 'same domain' windows/tabs when the warning dialog appears, and reverts back to the original title(s) if the warning dialog is dismissed.</li>
	      <li>Warning dialog box includes 'time remaining to logout' countdown timer</li>
	      <li>If neither button on the warning dialog box is clicked within the 'dialogDisplayLimit', all 'same domain' windows/tabs will logout.</li>
	    </ul>
	  <li>If the warning dialog is disabled:</li>
	    <ul>
	      <li>If no activity events are detected on any 'same domain' windows/tabs within the 'idleTimeLimit', all 'same domain' windows/tabs will logout.</li>
	      <li>User will receive no warning before logout</li>
	    </ul>
	</ul>

	<ul>
	  <li><strong>Activity events to detect are configurable: clicks, keypresses, scrolls, mouse movements and more are options.</strong></li>
	  <li><a href="http://www.quirksmode.org/dom/events/" target="_blank">http://www.quirksmode.org/dom/events/</a></li>
	  <li><a href="https://developer.mozilla.org/en-US/docs/Web/Reference/Events" target="_blank">https://developer.mozilla.org/en-US/docs/Web/Reference/Events</a></li>
	</ul>
	
	<h4><a href="http://jillelaine.github.io/jquery-idleTimeout/index.html" target="_blank">
	  Try it! Click here to open another browser window/tab of this page and then try the two 'Logout' buttons below.
	</a></h4>

	<h3>Voluntary Logout - Optional Functionality</h3>

	<div>
	  <input type="button" value="Logout All Windows/Tabs" onclick="voluntaryLogoutAll()" title="This button will logout ALL 'same domain' Windows/Tabs"
	    class="button logoutall float_left" id="logoutAll">
	  &nbsp;&nbsp;&nbsp;&nbsp;
	  <input type="button" value="Logout Only This Window/Tab" onclick="voluntaryLogoutOne()" title="This button will logout only the current Window/Tab"
	    class="button logoutone float_left" id="logoutOne">
	</div>

	<p style="clear:left">If user voluntarily logs out of your site with your 'Logout' button (instead of timing out),
	you can force all 'same domain' windows/tabs to also log out too!
	Add a small snippet of javascript to the 'onclick' function of your 'Logout' button.</p>

	<p><strong>Optional 'Voluntary Logout' Script</strong></p>
	<p>
	  &lt;script type="text/javascript"&gt;
	    <br />&nbsp;&nbsp;$(document).ready(function () {
	      <br />&nbsp;&nbsp;&nbsp;&nbsp;if (store.enabled) {
		<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;store.set('idleTimerLoggedOut', true);
		<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.location.href = "https://github.com/JillElaine/jquery-idleTimeout";
	      <br />&nbsp;&nbsp;&nbsp;&nbsp;} else {
		<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert('Please disable "Private Mode", or upgrade to a modern browser. Or perhaps a dependent file missing. Please see: https://github.com/marcuswestin/store.js');
	      <br />&nbsp;&nbsp;&nbsp;&nbsp;}
	    <br />&nbsp;&nbsp;});
	  <br />&lt;/script&gt;
	</p>

	<h3>The Demo Runtime Configuration</h3>
	<ul>
	  <li>The idle time limit, 'idleTimeLimit', is set to 15 seconds.</li>
	  <li>Activity events to detect, 'activityEvents', are set to 'click keypress scroll wheel mousewheel'.</li>
	  <li>The warning dialog display limit, 'dialogDisplayLimit', is set to 30 seconds.</li>
	  <li>The redirect page, 'redirectUrl', is set to https://github.com/JillElaine/jquery-idleTimeout.</li>
	  <li>Session keep alive pings have been disabled.</li>
	</ul>

	<h3>The Demo Runtime Configuration Script</h3>
	<p>
	  &lt;script type="text/javascript" charset="utf-8"&gt;
	  <br />&nbsp;&nbsp;$(document).ready(function () {
	    <br />&nbsp;&nbsp;&nbsp;&nbsp;$(document).idleTimeout({
	      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;idleTimeLimit: 15,        // 15 seconds
	      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;redirectUrl: 'https://github.com/JillElaine/jquery-idleTimeout',       // redirect to this url
	      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;activityEvents: 'click keypress scroll wheel mousewheel', // separate each event with a space
	      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dialogDisplayLimit: 30,   // Time to display the warning dialog before logout (and optional callback) in seconds
	      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sessionKeepAliveTimer: false // Set to false to disable pings.
	    <br />&nbsp;&nbsp;&nbsp;&nbsp;});
	  <br />&nbsp;&nbsp;});
	<br />&lt;/script&gt;
	</p>

      </div>
    </div>
  </body>
</html>